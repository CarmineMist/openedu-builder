# Docusaurus

## Description
This plugins handles the organisation and generation of a Docusaurus site, regardless of the way source content is organized. The most important option is the `structure` which defines where to look for content and how to organize it in the final site.

The plugin provides sane defaults in order to generate a simple Docusaurus site hassle free, while also providing the flexibility to customize the site to your needs through options like `static_assets` and `extra_files`, the latter allowing you to overwrite complex customization files from Docusaurus.

A small level of familiarity with docusaurus is recommended in order to use this plugin.

## Options
| parameter | type | required | default | description |
| --- | --- | --- | --- | --- |
| `course_name` | str | `false` | `Course` | The name of the course. This is reflected in the homepage of the resulting docusaurus site. |
| `sidebar` | str | `false` | `auto` | One of `auto`, `js` or `custom`. `auto` uses the docusaurus autogenerated sidebar; `js` will generate a `sidebar.js` file based on the `structure` parameter; `custom` will copy a `sidebar.js` file from the lcoation specified by `sidebar_location`|
| `sidebar_location` | str | `false` | `$input_dir/sidebar.js` | The location of the `sidebar.js` file to use if `sidebar` is set to `custom`. |
| `sidebar_name` | str | `false` | `sidebar` | Sidebar name to use inside the `sidebar.js` file. |
| `docs_only` | bool | `false` | `true` | Switch for the docusaurus [docs only mode](https://docusaurus.io/docs/docs-introduction/#docs-only-mode). |
| `structure` | list[Mapping[str, Any]] | `true` | `N\A` | The structure of the course. This is used to generate the sidebar. Leaf nodes are identified by the presence of the `location` and `name` attributes. |
| `static_assets` | list[str] | `false` | `[]` | A list of static assets to copy to the `static` directory under the docusaurus build directory. |
| `extra_files` | list[str] | `false` | `[]` | A list of extra files to copy to the docusaurus build directory. |
| `config_meta` | Mapping[str, str] | `false` | `N\A` | The metadata to add to the docusaurus `docusaurus.config.js` file. |
| `config_socials` | Mapping[str, str] | `false` | `N\A` | The social media links to add to the docusaurus `docusaurus.config.js` file. |
| `copyright_string` | str | `false` | `N\A` | The copyright string to add to the docusaurus `docusaurus.config.js` file. |
| `logo` | str | `false` | `N\A` | The logo to use for the docusaurus site. If not specified, the default docusaurus logo will be used. |
| `logo_dark` | str | `false` | `N\A` | The dark logo to use for the docusaurus site. If not specified, the default docusaurus logo will be used. |
| `debug` | bool | `false` | `false` | Wheter to keep the docusaurus build directory alongside the built output. |

Example:

```yaml
docusaurus:
  plugin: docusaurus
  options:
    course_name: Example Course
    logo: path/to/logo.svg
    logo_dark: path/to/logo_dark.svg
    docs_only: false
    sidebar: js
    sidebar_name: example_sidebar
    structure:
      - Lecture:
        - Compute:
            name: Compute
            location: /path/to/lectures/Compute
        - Data:
            name: README
            location: /path/to/lectures/Data
      - Lab:
        - Compute:
            location: path/to/chapters/Compute/lab
            name: README
    static_assets:
      - Compute: /path/to/content/chapters/compute/lecture/_site
      - Data: /path/to/content/chapters/data/lecture/_site
    extra_files:
      - index.js: src/index.js
    config_meta:
      title: Example Course
      url: http://localhost/
      baseUrl: /
      onBrokenLinks: warn
      onBrokenMarkdownLinks: warn
    config_socials:
      Main site: https://example.com
    copyright_string: Example Course Team
    debug: false
```

Note that this is a complex example. Usually, most of the parameters can be ommited, relying on the default values.